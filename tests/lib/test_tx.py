import electrumx.lib.tx as tx_lib

tests = [
    "020000000192809f0b234cb850d71d020e678e93f074648ed0df5affd0c46d3bcb177f"
    "9ccf020000008b483045022100c5403bcf86c3ae7b8fd4ca0d1e4df6729cc1af05ff95"
    "d9726b43a64b41dd5d9902207fab615f41871885aa3062fc7d8f8d9d3dcbc2e4867c5d"
    "96dd7a176b99e927924141040baa4271a82c5f1a09a5ea63d763697ca0545b6049c4dd"
    "8e8d099dd91f2da10eb11e829000a82047ac56969fb582433067a21c3171e569d1832c"
    "34fdd793cfc8ffffffff030000000000000000226a20195ce612d20e5284eb78bb28c9"
    "c50d6139b10b77b2d5b2f94711b13162700472bfc53000000000001976a9144a519c63"
    "f985ba5ab8b71bb42f1ecb82a0a0d80788acf6984315000000001976a9148b80536aa3"
    "c460258cda834b86a46787c9a2b0bf88ac00000000",

    "0200000003ee933f16c93d433bfd45426e94ddb4c0406aecac66f1c23a9e55151430c2"
    "b4c4a70000006b483045022100c940624ddbefcf86f3a3d820347de9c695204583a3ce"
    "9977c45cb1d6f69d577202205e0d9e9c0bfc2993160edad71cd1474b6308d990a89a54"
    "c80d7c62295edd2a394121039999e7c52a1447916b2af30478669c4e6e3ce52b895da7"
    "78f0b46b73f8ea6f00feffffff30be91ac83fee19e06304732027a39f9ec9018c5aae1"
    "159bf1c5de53dea61785fc0200006a473044022057cee17c3e123864336bdd6373e4bc"
    "0bf030ca70dd078520705930a4168610d0022061fdeedfbeb0b89c3b20db220799978b"
    "c94e11e4155b810b8b59df019b3f1859412103e2074e4387eeb3b1dec2fc8b953b0c13"
    "c53d0d3b7b676e1b3ca75ee606ecf750feffffffdd462d60e51be69451f06c36ba4490"
    "aaad8ebf40501dd27341e9c64a5f633324000000006a473044022043511ab874f0037c"
    "5726b1efc69fcdb638fac74ab3f6766eb80947cff8c1175a02200606ccf8db60f56e77"
    "03f6d5b81f5f5141f5b029a7b5a35700907f368b7e0f024121038daab4c77b9a428efb"
    "23aa2ccadc5c5332f299f5e51d1f1600524c0313ab9ec2feffffff04fe66c200000000"
    "001976a914a8c27c62fafec0a07d28b3b905912e9f385a7f1a88ac2a3b560800000000"
    "1976a914c20992e92764ef7e33e2cf6ed538d34b18a1fff888ac00a3e1110000000019"
    "76a9147137cd9dc7aad0d1cbc8e0ec12aae753d1acfaf488ac5d2b0f00000000001976"
    "a914c10084f449e968b0d71ee23a308954c68d8c97e488ac28620700",

    "01000000023e654b8c66566d10d97a8b9a0181b28ab213f050e6a570300b1d64c9c4b25"
    "ba6010000006a47304402200b328950940e5a1ce96f067dcb4bccad71d5977d2745c1db"
    "121aa76a2f76978c02207638b74897385ada975a6f5641ef788150c8aba36047a44fa8c"
    "173963096c89e012102f79743d58a6583f8f396386c25a3c0ea806ec7bbb8a2ea28f8ae"
    "6ea3dc710db2feffffffe69697942eb5f98295e5133be684b44d75e4ffa4eb54f01055f"
    "af88f68c564f3000000006b4830450221008a740642c9c1e4840cf82e24b8fa8cba7215"
    "46f7e4dd59800a304114807b58ae02202a9d714a651402c166c654efa927cf314688200"
    "3bce3f78dc7f712e1dea60339012103db58649db48021497f1afd8f0ecc744b93f15310"
    "df4d2f345cfecac5c2e3c942feffffff0300000000000000800ca7affaa49db6a6cbac1"
    "166fa338265913ee916e756deb58595627661b5ddf200000000e8030000000000000000"
    "00000000000000000000000000000000000000000000406f40010000000000000000000"
    "0000000000000000000000000000000000000367b226e616d65223a224e4f564f204d49"
    "4e45525320434c5542222c2273796d626f6c223a224e4d43222c22646563696d616c223"
    "a387d50c30000000000001976a9148ee74eaac9e4cc7ba2e569c17e5c7d793f98a20388"
    "ac4b984700000000001976a9147a4f3ce170effca9a922dda68f2ccde5293eee8288ac0"
    "0000000000000800ca7affaa49db6a6cbac1166fa338265913ee916e756deb585956276"
    "61b5ddf200000000f8b8120000000000000000000000000000000000000000000000000"
    "000000000406f4001000000000000000000000000000000000000000000000000000000"
    "00367b226e616d65223a224e4f564f204d494e45525320434c5542222c2273796d626f6"
    "c223a224e4d43222c22646563696d616c223a387d50c30000000000001976a914cf0bb1"
    "9ece9939230a8c7b065b8b0aa60f990dc088ac9acf0400",
    # a transaction that invokes a contract (b5fd04908850b536b2d76ca3f1ad51e77d020623626b2b956afc28b45f921da7)
    "0100000001371c9daba701948a58b63a661d8805e85c6ac18f9f54ad908e69f3d4d546f042040000006a4730440220049c0211f7295603b828340bb516d5ce475cd11278c6cda88d7d7fd5303b60fb022060c9f9326963e48f7b0f7f98335a8a7afc865b182d46be0b07a66917822fd58401210375f05f7f67e9f6b582f369dd4533c330527196de20759f9133d433147191548cfeffffff0202000000000000800000000000000000000000000000000000000000000000000000000000000000ffffffff0000000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000013736f6d657468696e672077697474792c20465450c30000000000001976a91437952a30e99fc8e7b804c1bef5cd27122abab5bd88ac54d51900000000001976a914d1146808d809ed13c8e19184321ae1ba6f5d1a4e88ac26b60400",
    # a transaction that mints an FT
    "0100000001d9d2843d1050fefa41f8b8cb9749dcfffa544b2cce18104033c13808de23ba42010000006a4730440220725d8212df6259223363fe2ec24934ee3c6009d8ff1e62567c703c132319663802206d46ad90e049b20f24828631e303ef805ee27a1f02acc3f0cfd98071bca7e22a0121038a4dd93d9e2cca3226e952f3091d693a997c9b1d5298189a8b1e55b1b7155ff8feffffff0203000000000000800000000000000000000000000000000000000000000000000000000000000000ffffffff0000000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000014736f6d657468696e672077697474792c204e465450c30000000000001976a91437952a30e99fc8e7b804c1bef5cd27122abab5bd88ac36db0700000000001976a91492d6b57e04ac5f1e79fd114b2f82a8c9a5698e9988ac26b60400",
    # a transaction that mints an NFT
]


def test_tx_serialization():
    for test in tests:
        test = bytes.fromhex(test)
        deser = tx_lib.Deserializer(test)
        tx = deser.read_tx()
        assert tx.serialize() == test
